import{u as de,r as o,j as e}from"./index-CbS75_4y.js";import{N as ce,R as z,B as K,X as Y,Y as X,T as R,a as P,C as q,P as xe,b as he,L as J,c as me,A as W}from"./PieChart-B2I3JHDV.js";function pe({navbarSearchQuery:j=""}){const Z=de(),[x,Q]=o.useState([]),[O,V]=o.useState([]),[C,$]=o.useState(!0),[w,U]=o.useState(null),[N,ee]=o.useState(null),[k,te]=o.useState(15),[D,y]=o.useState(null),[E,b]=o.useState(!1),[B,G]=o.useState(!1),[u,H]=o.useState(""),[g,S]=o.useState(""),[f,A]=o.useState(""),se=()=>{let t=[...x];u&&(t=t.filter(s=>(s.designerName||s["Designer Name"]||"").toLowerCase().includes(u.toLowerCase()))),g&&(t=t.filter(s=>{const a=s.startDate||s["Start Date"]||"";return a?new Date(a)>=new Date(g):!1})),f&&(t=t.filter(s=>{const a=s.endDate||s["End Date"]||"";return a?new Date(a)<=new Date(f):!1})),j&&(t=t.filter(s=>{const a=(s.designerName||s["Designer Name"]||"").toLowerCase(),l=(s.teamName||s["Team Name"]||"").toLowerCase(),d=j.toLowerCase();return a.includes(d)||l.includes(d)})),V(t)},ae=()=>{H(""),S(""),A("")};o.useEffect(()=>{se()},[x,u,g,f,j]);const re=[...new Set(x.map(t=>t.designerName||t["Designer Name"]).filter(Boolean))],i=O.length>0||u||g||f||j?O:x,T=async(t=!1)=>{try{if(t){G(!0),console.log("ðŸ”„ Triggering manual refresh...");const d=await fetch("http://localhost:3001/api/manual-refresh",{method:"POST",headers:{"Content-Type":"application/json"}});if(!d.ok){const h=await d.json().catch(()=>({}));throw console.error("Refresh error details:",h),new Error(h.error||"Failed to trigger manual refresh")}const v=await d.json();console.log("âœ… Manual refresh complete:",v.message),await new Promise(h=>setTimeout(h,1e3))}else $(!0);U(null);const s=W.USE_CSV_MODE?W.API_URL:W.GOOGLE_SHEETS_API_URL,a=await fetch(s);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json();if(l.success&&l.data)console.log("First row data:",l.data[0]),console.log("All field names:",l.data[0]?Object.keys(l.data[0]):"No data"),Q(l.data),ee(new Date),t&&console.log("âœ… Dashboard updated with fresh data!");else throw new Error("Invalid data format received from API")}catch(s){console.error("Error fetching data:",s),U(s.message)}finally{$(!1),G(!1)}};o.useEffect(()=>{T()},[]),o.useEffect(()=>{if(E){const t=setTimeout(()=>{b(!1),y(null)},8e3);return()=>clearTimeout(t)}},[E]);const ne=i.length>0?new Set(i.map(t=>t.designerName||t["Designer Name"])).size:0,L={};i.forEach(t=>{const s=t.designerName||t["Designer Name"]||"Unknown";L[s]=(L[s]||0)+1});let M="N/A";if(Object.keys(L).length>0){const t=Object.entries(L).sort((s,a)=>a[1]-s[1])[0][0];if(t&&t!=="Unknown"&&t.includes("@")){const a=t.split("@")[0].split(".")[0];M=a.charAt(0).toUpperCase()+a.slice(1)}else M=t}const le=new Date().toDateString(),oe=i.filter(t=>{const s=t.endDate||t["End Date"]||"";if(!s)return!1;try{return new Date(s).toDateString()===le}catch{return!1}}).length;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ce,{onSearch:t=>{H(""),S(""),A("");const s=x.filter(a=>{const l=a.designerName||a["Designer Name"]||"",d=a.team||a.Team||"";return l.toLowerCase().includes(t.toLowerCase())||d.toLowerCase().includes(t.toLowerCase())});V(s)}}),e.jsx("div",{className:"bg-white border-b shadow-sm",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-4 py-5",children:e.jsxs("div",{className:"flex items-center justify-center gap-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-base font-semibold text-gray-700",children:"Designer:"}),e.jsxs("select",{value:u,onChange:t=>H(t.target.value),className:"px-5 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#82E600] focus:border-transparent bg-white text-base font-medium min-w-[220px]",children:[e.jsx("option",{value:"",children:"All Designers"}),re.map((t,s)=>e.jsx("option",{value:t,children:t},s))]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-base font-semibold text-gray-700",children:"Start Date:"}),e.jsx("input",{type:"date",value:g,onChange:t=>S(t.target.value),className:"px-5 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#82E600] focus:border-transparent text-base font-medium"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-base font-semibold text-gray-700",children:"End Date:"}),e.jsx("input",{type:"date",value:f,onChange:t=>A(t.target.value),className:"px-5 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#82E600] focus:border-transparent text-base font-medium"})]}),e.jsx("button",{onClick:ae,className:"px-7 py-2.5 text-base font-semibold text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors border border-gray-300",children:"Reset Filters"}),(u||g||f||j)&&e.jsxs("div",{className:"flex items-center gap-2 text-base",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Showing:"}),e.jsx("span",{className:"font-bold text-[#82E600]",children:i.length}),e.jsxs("span",{className:"text-gray-600 font-medium",children:["of ",x.length," projects"]})]})]})})}),e.jsxs("main",{className:"max-w-[1800px] mx-auto px-4 py-8",children:[C&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#82E600]"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading data from Google Sheets..."})]})}),w&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg mb-8",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-red-800 font-semibold",children:"Error loading data"}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:w}),e.jsx("button",{onClick:T,className:"mt-2 text-sm text-red-600 underline hover:text-red-800",children:"Try again"})]})]})}),!C&&!w&&x.length===0&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded-lg mb-8",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-yellow-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-yellow-800 font-semibold",children:"No data found"}),e.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Please add data to your Google Sheet and refresh the page."})]})]})}),!C&&!w&&x.length>0&&e.jsxs(e.Fragment,{children:["        ",e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-[#00699E] uppercase tracking-wide",children:"DASHBOARD"}),N&&e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last updated: ",N.toLocaleTimeString()]})]}),"        ",e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:["          ",e.jsxs("div",{className:"relative bg-gradient-to-br from-[#005587] to-[#003d5c] rounded-2xl shadow-2xl p-8 fade-in hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("svg",{className:"w-12 h-12 text-white opacity-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"text-xs font-semibold border-2 border-white border-opacity-40 px-3 py-1 rounded-full text-white",children:"ACTIVE"})]}),e.jsx("p",{className:"text-white text-opacity-80 text-sm font-medium uppercase tracking-wider mb-2",children:"Total Designers"}),e.jsx("p",{className:"text-5xl font-black text-white mb-3",children:ne}),e.jsx("div",{className:"flex items-center gap-2 text-white text-opacity-70",children:e.jsx("span",{className:"text-xs font-medium",children:"Team members working"})})]}),e.jsxs("div",{className:"relative bg-gradient-to-br from-[#82E600] to-[#6BC700] rounded-2xl shadow-2xl p-8 fade-in hover:scale-105 transition-all duration-300",style:{animationDelay:"0.1s"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("svg",{className:"w-12 h-12 text-white opacity-90",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),e.jsx("div",{className:"bg-yellow-400 text-green-900 text-xs font-black px-3 py-1 rounded-full",children:"#1"})]}),e.jsx("p",{className:"text-white text-opacity-80 text-sm font-medium uppercase tracking-wider mb-2",children:"Top Performer"}),e.jsx("p",{className:"text-3xl font-black text-white mb-3 truncate",children:M}),e.jsx("div",{className:"flex items-center gap-2 text-white text-opacity-70",children:e.jsx("span",{className:"text-xs font-medium",children:"Highest completion rate"})})]}),e.jsxs("div",{className:"relative bg-gradient-to-br from-[#FF6B35] to-[#E84A25] rounded-2xl shadow-2xl p-8 fade-in hover:scale-105 transition-all duration-300",style:{animationDelay:"0.2s"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("svg",{className:"w-12 h-12 text-white opacity-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),e.jsx("svg",{className:"w-6 h-6 text-white opacity-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]}),e.jsx("p",{className:"text-white text-opacity-80 text-sm font-medium uppercase tracking-wider mb-2",children:"Completed Today"}),e.jsx("p",{className:"text-5xl font-black text-white mb-3",children:oe}),e.jsx("div",{className:"flex items-center gap-2 text-white text-opacity-70",children:e.jsx("span",{className:"text-xs font-medium",children:"Projects finished"})})]})]}),"        ",e.jsxs("div",{className:"dashboard-card slide-in",children:["          ",e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-[#00699E] uppercase tracking-wide",children:"PROJECT DETAILS"}),N&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Last updated: ",N.toLocaleTimeString()]})]}),"            ",e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{onClick:()=>T(!0),disabled:B,className:`px-6 py-3 bg-gradient-to-r from-[#82E600] to-[#6BC700] hover:from-[#6BC700] hover:to-[#82E600] text-white font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center gap-2 ${B?"opacity-70 cursor-not-allowed scale-100":""}`,children:B?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Refreshing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Designer Name"}),e.jsx("th",{children:"Team Name"}),e.jsx("th",{children:"Start Date & Time"}),e.jsx("th",{children:"End Date & Time"}),e.jsx("th",{children:"Actual Hours"}),e.jsx("th",{children:"Benchmark Hours"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:i.slice(0,k).map((t,s)=>{const a=t.actualHours||t["Actual Hours"]||0,l=t.raisedBenchmarkingHours||t["Raised Benchmarking Hours"]||0,d=t.startDate||t["Start Date"]||"N/A",v=t.endDate||t["End Date"]||"N/A",h=l>0?a/l*100:0,m=h<=100?"On Track":"Over Budget",F=h<=100?"text-green-700 bg-green-100 border-green-300":"text-red-700 bg-red-100 border-red-300",n=t.designerName||t["Designer Name"]||"N/A";return e.jsxs("tr",{children:[e.jsx("td",{className:"font-medium text-blue-600 hover:text-blue-800 cursor-pointer hover:underline transition-colors",onClick:()=>{n!=="N/A"&&(y(n),b(!0))},children:n}),e.jsx("td",{children:t.teamName||t["Team Name"]||"N/A"}),e.jsx("td",{children:d}),e.jsx("td",{children:v}),e.jsxs("td",{className:"font-semibold",children:[a,"h"]}),e.jsxs("td",{className:"font-semibold",children:[l,"h"]}),e.jsx("td",{children:e.jsx("span",{className:`inline-flex items-center justify-center px-4 py-1.5 rounded-full text-sm font-semibold border whitespace-nowrap ${F}`,children:m})})]},t.id||s)})})]})}),i.length>k&&e.jsxs("div",{className:"mt-6 text-center",children:[e.jsxs("button",{onClick:()=>te(t=>t+15),className:"px-8 py-3 bg-[#4E6B7C] hover:bg-[#5a7a8f] text-white font-semibold rounded-lg transition-all duration-200 shadow-md hover:shadow-lg flex items-center gap-2 mx-auto",children:[e.jsx("span",{children:"Show More"}),e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:["Showing ",k," of ",i.length," projects"]})]}),i.length>15&&k>=i.length&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm font-semibold text-[#82E600] flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"All ",i.length," projects loaded"]})})]}),"        ",e.jsxs("div",{className:"mt-8 dashboard-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#00699E] to-[#0080BB] rounded-lg p-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),"            ",e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-[#00699E] uppercase tracking-wide",children:"TOP BEST TEAMS"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Efficiency: Total Benchmark Hours / Total Actual Hours"})]})]}),(()=>{const t={};x.forEach(n=>{const r=n.teamName||n["Team Name"]||"Unknown",c=parseFloat(n.actualHours||n["Actual Hours"]||0),p=parseFloat(n.raisedBenchmarkingHours||n["Raised Benchmarking Hours"]||0);t[r]||(t[r]={totalActual:0,totalBenchmark:0,projectCount:0}),t[r].totalActual+=c,t[r].totalBenchmark+=p,t[r].projectCount+=1});const s=Object.entries(t).map(([n,r])=>({name:n,efficiency:r.totalActual>0?r.totalBenchmark/r.totalActual*100:0,actualHours:r.totalActual,benchmarkHours:r.totalBenchmark,projects:r.projectCount})).filter(n=>n.efficiency>0&&n.name!=="Unknown").sort((n,r)=>r.efficiency-n.efficiency).slice(0,15),a=s.length>0?s[0]:null,l=s.length>0?s.reduce((n,r)=>n+r.efficiency,0)/s.length:0,d=s.length,v=s.reduce((n,r)=>n+r.projects,0),h=s.reduce((n,r)=>n+r.actualHours,0),m=["#FF8C42","#FDB913","#FFE66D","#B8E986","#4ECDC4","#5DADE2","#00A8E8","#9B59B6","#E74C3C","#82C43C","#FF8C42","#FDB913","#FFE66D","#B8E986","#4ECDC4"],F=n=>{const{x:r,y:c,width:p,index:I,value:ue}=n,_=m[I%m.length],ie=String(I+1).padStart(2,"0");return e.jsxs("g",{children:[e.jsx("line",{x1:r+p/2,y1:c-50,x2:r+p/2,y2:c-10,stroke:_,strokeWidth:"2",strokeDasharray:"3,3"}),e.jsx("circle",{cx:r+p/2,cy:c-55,r:"8",fill:_}),e.jsx("text",{x:r+p/2,y:c+30,textAnchor:"middle",fill:"white",fontSize:"18",fontWeight:"bold",children:ie})]})};return s.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-md border-l-4 border-green-500 p-5 hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"bg-green-500 rounded-lg p-2.5",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),e.jsx("span",{className:"text-2xl font-black text-green-600",children:"#1"})]}),e.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Best Team"}),e.jsx("p",{className:"text-lg font-bold text-gray-800 truncate mb-1",children:a.name}),e.jsxs("p",{className:"text-2xl font-black text-green-600",children:[a.efficiency.toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.projects," projects"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-md border-l-4 border-blue-500 p-5 hover:shadow-lg transition-shadow duration-300",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"bg-blue-500 rounded-lg p-2.5",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Avg Efficiency"}),e.jsxs("p",{className:"text-3xl font-black text-blue-600",children:[l.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Across all teams"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-md border-l-4 border-purple-500 p-5 hover:shadow-lg transition-shadow duration-300",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"bg-purple-500 rounded-lg p-2.5",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Total Teams"}),e.jsx("p",{className:"text-3xl font-black text-purple-600",children:d}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Top performers"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl shadow-md border-l-4 border-orange-500 p-5 hover:shadow-lg transition-shadow duration-300",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"bg-orange-500 rounded-lg p-2.5",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Total Projects"}),e.jsx("p",{className:"text-3xl font-black text-orange-600",children:v}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[h.toFixed(0),"h total"]})]})]}),"                ",e.jsxs("div",{className:"relative w-full bg-white rounded-2xl shadow-lg p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:e.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 800 400",preserveAspectRatio:"xMidYMid meet",children:e.jsx("path",{d:"M150,100 L180,90 L200,100 L220,95 L240,105 L260,100 L280,110 L300,105 L320,115 L340,110 L360,120 L380,115 M150,140 L170,135 L190,145 L210,140 L230,150 L250,145 L270,155 L290,150 M400,120 L420,115 L440,125 L460,120 L480,130 L500,125 L520,135 L540,130 M350,180 L370,175 L390,185 L410,180 L430,190 L450,185 L470,195 L490,190 M200,220 L220,215 L240,225 L260,220 L280,230 L300,225 L320,235 L340,230",stroke:"#D1D5DB",strokeWidth:"1.5",fill:"none",opacity:"0.5"})})}),e.jsx("div",{className:"relative",children:e.jsx(z,{width:"100%",height:500,children:e.jsxs(K,{data:s,margin:{top:80,right:30,left:20,bottom:100},children:[e.jsx("defs",{children:s.map((n,r)=>e.jsxs("linearGradient",{id:`barGradient-${r}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:m[r%m.length],stopOpacity:.95}),e.jsx("stop",{offset:"100%",stopColor:m[r%m.length],stopOpacity:.75})]},`gradient-${r}`))}),e.jsx(Y,{dataKey:"name",angle:-45,textAnchor:"end",height:120,tick:{fontSize:11,fill:"#6B7280",fontWeight:500},interval:0,axisLine:{stroke:"#E5E7EB",strokeWidth:1},tickLine:!1}),e.jsx(X,{hide:!0}),e.jsx(R,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.98)",border:"2px solid #E5E7EB",borderRadius:"12px",padding:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:(n,r,c)=>r==="efficiency"?[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-base font-bold text-gray-800",children:c.payload.name}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Efficiency:"})," ",n.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Benchmark:"})," ",c.payload.benchmarkHours.toFixed(1),"h"]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Actual:"})," ",c.payload.actualHours.toFixed(1),"h"]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Projects:"})," ",c.payload.projects]})]},"tooltip")]:[n,r]}),e.jsx(P,{dataKey:"efficiency",radius:[8,8,0,0],label:e.jsx(F,{}),children:s.map((n,r)=>e.jsx(q,{fill:`url(#barGradient-${r})`},`cell-${r}`))})]})})}),"              "]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"No team data available"})})})()]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"dashboard-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-3 shadow-lg",children:e.jsxs("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#00699E] uppercase tracking-wide",children:"Hours Distribution"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Total hours by project status"})]})]}),e.jsx(z,{width:"100%",height:400,children:e.jsxs(xe,{children:[e.jsx(he,{data:[{name:"On Track",value:i.filter(t=>{const s=t.actualHours||t["Actual Hours"]||0,a=t.raisedBenchmarkingHours||t["Raised Benchmarking Hours"]||0;return a>0&&s/a*100<=100}).reduce((t,s)=>t+(s.actualHours||s["Actual Hours"]||0),0),color:"#10B981"},{name:"Over Budget",value:i.filter(t=>{const s=t.actualHours||t["Actual Hours"]||0,a=t.raisedBenchmarkingHours||t["Raised Benchmarking Hours"]||0;return a>0&&s/a*100>100}).reduce((t,s)=>t+(s.actualHours||s["Actual Hours"]||0),0),color:"#EF4444"}],cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:s,value:a})=>`${t}: ${a.toFixed(0)}h (${(s*100).toFixed(1)}%)`,outerRadius:130,fill:"#8884d8",dataKey:"value",children:[{name:"On Track",color:"#10B981"},{name:"Over Budget",color:"#EF4444"}].map((t,s)=>e.jsx(q,{fill:t.color},`cell-${s}`))}),e.jsx(R,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.98)",border:"2px solid #E5E7EB",borderRadius:"12px",padding:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:t=>`${t.toFixed(0)} hours`}),e.jsx(J,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})]}),e.jsxs("div",{className:"dashboard-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg p-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#00699E] uppercase tracking-wide",children:"Actual vs Benchmark"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hours comparison by team"})]})]}),e.jsx(z,{width:"100%",height:400,children:e.jsxs(K,{data:(()=>{const t={};return i.forEach(s=>{const a=s.teamName||s["Team Name"]||"Unknown",l=s.actualHours||s["Actual Hours"]||0,d=s.raisedBenchmarkingHours||s["Raised Benchmarking Hours"]||0;t[a]||(t[a]={name:a,actualHours:0,benchmarkHours:0,projects:0}),t[a].actualHours+=l,t[a].benchmarkHours+=d,t[a].projects+=1}),Object.values(t).sort((s,a)=>a.actualHours-s.actualHours).slice(0,8)})(),margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(me,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),e.jsx(Y,{dataKey:"name",angle:-45,textAnchor:"end",height:100,tick:{fontSize:11,fill:"#6B7280",fontWeight:500},interval:0}),e.jsx(X,{tick:{fontSize:11,fill:"#6B7280"},label:{value:"Hours",angle:-90,position:"insideLeft",style:{fill:"#6B7280",fontWeight:600}}}),e.jsx(R,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.98)",border:"2px solid #E5E7EB",borderRadius:"12px",padding:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:(t,s)=>{const a=s==="actualHours"?"Actual Hours":"Benchmark Hours";return[`${t.toFixed(1)}h`,a]}}),e.jsx(J,{wrapperStyle:{paddingTop:"20px"},iconType:"rect",formatter:t=>t==="actualHours"?"Actual Hours":"Benchmark Hours"}),e.jsx(P,{dataKey:"actualHours",fill:"#10B981",radius:[8,8,0,0],name:"actualHours"}),e.jsx(P,{dataKey:"benchmarkHours",fill:"#EF4444",radius:[8,8,0,0],name:"benchmarkHours"})]})})]})]})]})]}),E&&D&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border-2 border-blue-200 p-6 w-[480px] max-w-[90vw] pointer-events-auto animate-scale-in",children:["            ",e.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[e.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-md",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Designer Details"}),e.jsxs("p",{className:"text-base text-gray-600",children:["View performance data for",e.jsx("br",{}),e.jsx("span",{className:"font-bold text-blue-600 text-base",children:D})]})]}),e.jsx("button",{onClick:()=>{b(!1),y(null)},className:"flex-shrink-0 text-gray-400 hover:text-gray-700 transition-colors hover:bg-gray-100 rounded-full p-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{b(!1),Z(`/designer/${encodeURIComponent(D)}`)},className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white text-base font-semibold rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",children:"View Details"}),e.jsx("button",{onClick:()=>{b(!1),y(null)},className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 text-base font-semibold rounded-lg transition-all duration-200 border-2 border-gray-300",children:"Dismiss"})]})]})}),"      ",e.jsx("footer",{className:"bg-[#2C2C2C] border-t border-gray-700 mt-12",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-4 py-6",children:e.jsx("p",{className:"text-center text-gray-300 text-sm",children:"Â© 2025 Project Dashboard - Built with React + Vite + Tailwind CSS"})})})]})}export{pe as default};
